<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agri Assist</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Aclonica" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="style.css" rel="stylesheet">
    <script src="script.js"></script>
    <script type="text/javascript" src="https://unpkg.com/webcam-easy/dist/webcam-easy.min.js"></script>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script>
    <style>
    .fakeimg {
      height: 100px;
      background: #aaa;
    }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  

</head>
<body>

    <div class="p-5 text-white text-center"; style="background-color: rgb(87, 185, 15); font-family: 'Aclonica' " >
        <h1>Plant Disease Detector</h1>
        <p>â€œCreativity is thinking up new things. Innovation is doing new things.â€œ</p> 
        <p>Therefore we innovate !!!</p>
      </div>


<nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-center"  >
        
  <ul class="navbar-nav">
    
          <li class="nav-item">
            <a class="nav-link active" href="index.html " style="font-size: 18; margin-right: 25px ">Home page</a>
          </li>
    
          <li class="nav-item">
            <a class="nav-link active" href="main.html" style="font-size: 18; margin-right: 25px ">Disease Detector</a>
          </li>
    
          <li class="nav-item">
            <a class="nav-link active" href="guide.html" style="font-size: 18; margin-right: 25px ">Guide</a>
          </li>
   
  </ul>

</nav>
<div class="row" style="height: 100%; background-image:linear-gradient(315deg, rgb(0, 0, 0), rgb(11, 11, 11) ,rgb(21, 21, 21));">

  <div style="display: flex; align-items: center;" class="column" >
    <!--<img src="mainpagebg.jpeg" style="clip-path: circle(100% at 2% 100%); height: 100%; width: 60%;"> -->
    <img src="mainpagebg.jpeg" style="-webkit-mask-box-image: url(bCMbZeJWuJgdCxjtyCT1u-transformed.png); height: 100% ; width: 110%;">
  </div>

<div  class="column" style="text-align: center; display: flex; align-items: center; flex-direction: column; justify-content: center;" >
    
    
    <div id="myDIV_1" style="text-align: center; display: none; align-items: center; flex-direction: column; justify-content: center;">

      <h2 style="font-family: Roboto, sans-serif; font-size: 26px; line-height: 1; color: #454cad;margin-bottom: 0;">File Upload & Image Preview</h2>
    <br>
    <p class="lead" style=" font-family: Roboto, sans-serif; font-size: 18px; color: #5f6982;"><b>ðŸ‘‡ Upload your file below ðŸ‘‡</b></p>
  
    <br>

    <div style="display: flex;align-items:center;">
      <form id="file-upload-form" class="uploader">
        <input id="file-upload" type="file" name="fileUpload" accept="image/*" />
      
        <label for="file-upload" id="file-drag">
          <img id="file-image" src="#" alt="Preview" class="hidden">
          <div id="start">
            <i class="fa fa-download" aria-hidden="true"></i>
            <div>Select a file or drag here</div>
            <div id="notimage" class="hidden">Please select an image</div>
            <span id="file-upload-btn" class="btn btn-primary">Select a file</span>
          </div>
          <div id="response" class="hidden">
            <div id="messages"></div>
            <progress class="progress" id="file-progress" value="0">
              <span>0</span>%
            </progress>
          </div>
        </label>
      </form>  
    </div>
    <br>
    </div>

    <div id="myDIV_2" style="text-align: center; display: none; align-items: center; flex-direction: column; justify-content: center;" >
        <button id="button-screenshot" onclick="snap()">Click</button>
        <button id="button-download" style="display:none;">Download</button>
        <button onclick="resnap()"> Retake </button>
        <video autoplay="true" id="video-preview" style="display: flex;"></video>
        <img src="https://assets.codepen.io/907368/demo.png" style="display: none;" id="screenshot" alt=""/>
    </div>

    <div id="myDIV_3" style="text-align: center; display: flex; align-items: center; flex-direction: column; justify-content: center;" >

      <a>

      </a>
      
      <a class="fancy-button pop-onhover bg-gradient2" id="openwebcam" onclick="openWebcam()" >
        <span style="text-shadow: 2px 2px 4px #000000;"> <i style="font-size: 25px;">&#127909; </i> <b> Open Camera </b> </span>
      </a>

      <a class="fancy-button pop-onhover bg-gradient2" id="openupload" onclick="openUpload()">
        <span style="text-shadow: 2px 2px 4px #000000;"> <i style="font-size: 25px;">&#128193; </i> <b> Upload Image </b> </span>
      </a>

    </div>
</div>

<!-- <div  class="column" style="text-align: center; display: none; align-items: center; flex-direction: column; justify-content: center;" > 
  <div>
    food
    <button id="button-screenshot">Screenshot</button>
    <button id="button-download" style="display:none;">Download</button>
    <video autoplay="true" id="video-preview" style="display:flex;"></video>
    <img src="https://assets.codepen.io/907368/demo.png" id="screenshot" alt=""/>
  </div>
</div> -->

  <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
  <script id="rendered-js" >
    // File Upload
    // 
    function ekUpload() {
      function Init() {
    
        console.log("Upload Initialised");
    
        var fileSelect = document.getElementById('file-upload'),
        fileDrag = document.getElementById('file-drag'),
        submitButton = document.getElementById('submit-button');
    
        fileSelect.addEventListener('change', fileSelectHandler, false);
    
        // Is XHR2 available?
        var xhr = new XMLHttpRequest();
        if (xhr.upload) {
          // File Drop
          fileDrag.addEventListener('dragover', fileDragHover, false);
          fileDrag.addEventListener('dragleave', fileDragHover, false);
          fileDrag.addEventListener('drop', fileSelectHandler, false);
        }
      }
    
      function fileDragHover(e) {
        var fileDrag = document.getElementById('file-drag');
    
        e.stopPropagation();
        e.preventDefault();
    
        fileDrag.className = e.type === 'dragover' ? 'hover' : 'modal-body file-upload';
      }
    
      function fileSelectHandler(e) {
        // Fetch FileList object
        var files = e.target.files || e.dataTransfer.files;
    
        // Cancel event and hover styling
        fileDragHover(e);
    
        // Process all File objects
        for (var i = 0, f; f = files[i]; i++) {if (window.CP.shouldStopExecution(0)) break;
          parseFile(f);
          uploadFile(f);
        }window.CP.exitedLoop(0);
      }
    
      // Output
      function output(msg) {
        // Response
        var m = document.getElementById('messages');
        m.innerHTML = msg;
      }
    
      function parseFile(file) {
    
        console.log(file.name);
        output(
        '<strong>' + encodeURI(file.name) + '</strong>');
    
    
        // var fileType = file.type;
        // console.log(fileType);
        var imageName = file.name;
    
        var isGood = /\.(?=gif|jpg|png|jpeg)/gi.test(imageName);
        if (isGood) {
          document.getElementById('start').classList.add("hidden");
          document.getElementById('response').classList.remove("hidden");
          document.getElementById('notimage').classList.add("hidden");
          // Thumbnail Preview
          document.getElementById('file-image').classList.remove("hidden");
          document.getElementById('file-image').src = URL.createObjectURL(file);
        } else
        {
          document.getElementById('file-image').classList.add("hidden");
          document.getElementById('notimage').classList.remove("hidden");
          document.getElementById('start').classList.remove("hidden");
          document.getElementById('response').classList.add("hidden");
          document.getElementById("file-upload-form").reset();
        }
      }
    
      function setProgressMaxValue(e) {
        var pBar = document.getElementById('file-progress');
    
        if (e.lengthComputable) {
          pBar.max = e.total;
        }
      }
    
      function updateFileProgress(e) {
        var pBar = document.getElementById('file-progress');
    
        if (e.lengthComputable) {
          pBar.value = e.loaded;
        }
      }
    
      function uploadFile(file) {
    
        var xhr = new XMLHttpRequest(),
        fileInput = document.getElementById('class-roster-file'),
        pBar = document.getElementById('file-progress'),
        fileSizeLimit = 1024; // In MB
        if (xhr.upload) {
          // Check if file is less than x MB
          if (file.size <= fileSizeLimit * 1024 * 1024) {
            // Progress bar
            pBar.style.display = 'inline';
            xhr.upload.addEventListener('loadstart', setProgressMaxValue, false);
            xhr.upload.addEventListener('progress', updateFileProgress, false);
    
            // File received / failed
            xhr.onreadystatechange = function (e) {
              if (xhr.readyState == 4) {
                // Everything is good!
    
                // progress.className = (xhr.status == 200 ? "success" : "failure");
                // document.location.reload(true);
              }
            };
    
            // Start upload
            xhr.open('POST', document.getElementById('file-upload-form').action, true);
            xhr.setRequestHeader('X-File-Name', file.name);
            xhr.setRequestHeader('X-File-Size', file.size);
            xhr.setRequestHeader('Content-Type', 'multipart/form-data');
            xhr.send(file);
          } else {
            output('Please upload a smaller file (< ' + fileSizeLimit + ' MB).');
          }
        }
      }
    
      // Check for the various File API support.
      if (window.File && window.FileList && window.FileReader) {
        Init();
      } else {
        document.getElementById('file-drag').style.display = 'none';
      }
    }
    ekUpload();
    //# sourceURL=pen.js
        </script>



<script>
  const videoPreview = document.querySelector('#video-preview');
  const screenshot = document.querySelector('#screenshot');
  const buttonScreenshot = document.querySelector('#button-screenshot');
  const buttonDownload = document.querySelector('#button-download');
  disabledButtons(true);
  
  navigator.mediaDevices
    .getUserMedia({ video: true })
    .then(async (videoStream) => {
      videoPreview.srcObject = videoStream;
      disabledButtons(false);
      buttonScreenshot.addEventListener('click', async () =>
        takeScreenshot(videoStream)
      );
      buttonDownload.addEventListener('click', async () =>
        startDownload(videoStream)
      );
    });
  
  async function getImageBlob(videoStream) {
    const track = videoStream.getVideoTracks()[0];
    const imageBlob = await new ImageCapture(track).takePhoto();
    return imageBlob;
  }
  
  async function takeScreenshot(videoStream) {
    screenshot.src = URL.createObjectURL(await getImageBlob(videoStream));
  }
  
  async function startDownload(videoStream) {
    const imageURL = URL.createObjectURL(await getImageBlob(videoStream));
    const link = document.createElement('a');
    link.href = imageURL;
    link.download = `screenshot-${new Date().toLocaleTimeString()}.jpg`;
    document.body.appendChild(link);
    link.click();
    document.body.removeCh;ld(link);
  }
  
  function disabledButtons(state) {
    buttonDownload.disabled = state;
    buttonScreenshot.disabled = state;
  }
  

  </script>
  
<script>
  function snap() {
    var vp = document.getElementById("video-preview");
    var ss = document.getElementById("screenshot");
    vp.style.display = "none";
    ss.style.display = "flex";
}

  function resnap(){
    var vp = document.getElementById("video-preview");
    var ss = document.getElementById("screenshot");
    vp.style.display = "flex";
    ss.style.display = "none";
  }
</script>




<!--
  <div class="column" style="display: flex; align-items: center; flex-direction: column;">

    <img id="output" style="max-width: 40%; max-height: 40%; display: block; align-self: center; margin-top: auto;">

    <video onclick="snapshot(this);" width=400 height=400 id="video" controls autoplay style="display: none;"></video>

    <canvas  id="myCanvas" style="max-width: 40%; max-height: 40%; display: none; align-self: center; margin-top: auto;"></canvas>  
    
    <button class="inputbut">
      <label for="file"> Upload </label>
    </button>

    <input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;"> 


  <div class="flex" style=" margin-left: auto; margin-right: auto; margin-bottom: auto;">

      <button class="inputbut" role="button" style="width: 50px; height:20px"> 
          <label for="file"> Upload </label>
      </button> 

      <br>
      <br>

      <button class="inputbut" onclick="startWebcam(); init(); snapshot(); stopWebcam();" >
        <span class="text">
        </span>
      </button>

  </div>
-->    

<!--


   // <input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;"> 


    style="height: 5%; width: 20%; display: block; align-self: center; margin-left: auto; margin-right: auto; margin-bottom: auto;"
    <label for="file" class="inputbut">Upload Image</label> 
    <br>
    <button class="button-64" role="button"> <span class="text">Button 64</span></button> 


  </div> -->
  
<!--
<div style="display:flex; height:100%; flex-direction: column;">
  <br>
  <h2>File Upload & Image Preview</h2>
  <br>
  <p class="lead">No Plugins <b>Just Javascript</b></p>

  <form id="file-upload-form" class="uploader">
    <input id="file-upload" type="file" name="fileUpload" accept="image/*" />
  
    <label for="file-upload" id="file-drag">
      <img id="file-image" src="#" alt="Preview" class="hidden">
      <div id="start">
        <i class="fa fa-download" aria-hidden="true"></i>
        <div>Select a file or drag here</div>
        <div id="notimage" class="hidden">Please select an image</div>
        <span id="file-upload-btn" class="btn btn-primary">Select a file</span>
      </div>
      <div id="response" class="hidden">
        <div id="messages"></div>
        <progress class="progress" id="file-progress" value="0">
          <span>0</span>%
        </progress>
      </div>
    </label>
  </form>

<script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
<script id="rendered-js" >
  // File Upload
  // 
  function ekUpload() {
    function Init() {
  
      console.log("Upload Initialised");
  
      var fileSelect = document.getElementById('file-upload'),
      fileDrag = document.getElementById('file-drag'),
      submitButton = document.getElementById('submit-button');
  
      fileSelect.addEventListener('change', fileSelectHandler, false);
  
      // Is XHR2 available?
      var xhr = new XMLHttpRequest();
      if (xhr.upload) {
        // File Drop
        fileDrag.addEventListener('dragover', fileDragHover, false);
        fileDrag.addEventListener('dragleave', fileDragHover, false);
        fileDrag.addEventListener('drop', fileSelectHandler, false);
      }
    }
  
    function fileDragHover(e) {
      var fileDrag = document.getElementById('file-drag');
  
      e.stopPropagation();
      e.preventDefault();
  
      fileDrag.className = e.type === 'dragover' ? 'hover' : 'modal-body file-upload';
    }
  
    function fileSelectHandler(e) {
      // Fetch FileList object
      var files = e.target.files || e.dataTransfer.files;
  
      // Cancel event and hover styling
      fileDragHover(e);
  
      // Process all File objects
      for (var i = 0, f; f = files[i]; i++) {if (window.CP.shouldStopExecution(0)) break;
        parseFile(f);
        uploadFile(f);
      }window.CP.exitedLoop(0);
    }
  
    // Output
    function output(msg) {
      // Response
      var m = document.getElementById('messages');
      m.innerHTML = msg;
    }
  
    function parseFile(file) {
  
      console.log(file.name);
      output(
      '<strong>' + encodeURI(file.name) + '</strong>');
  
  
      // var fileType = file.type;
      // console.log(fileType);
      var imageName = file.name;
  
      var isGood = /\.(?=gif|jpg|png|jpeg)/gi.test(imageName);
      if (isGood) {
        document.getElementById('start').classList.add("hidden");
        document.getElementById('response').classList.remove("hidden");
        document.getElementById('notimage').classList.add("hidden");
        // Thumbnail Preview
        document.getElementById('file-image').classList.remove("hidden");
        document.getElementById('file-image').src = URL.createObjectURL(file);
      } else
      {
        document.getElementById('file-image').classList.add("hidden");
        document.getElementById('notimage').classList.remove("hidden");
        document.getElementById('start').classList.remove("hidden");
        document.getElementById('response').classList.add("hidden");
        document.getElementById("file-upload-form").reset();
      }
    }
  
    function setProgressMaxValue(e) {
      var pBar = document.getElementById('file-progress');
  
      if (e.lengthComputable) {
        pBar.max = e.total;
      }
    }
  
    function updateFileProgress(e) {
      var pBar = document.getElementById('file-progress');
  
      if (e.lengthComputable) {
        pBar.value = e.loaded;
      }
    }
  
    function uploadFile(file) {
  
      var xhr = new XMLHttpRequest(),
      fileInput = document.getElementById('class-roster-file'),
      pBar = document.getElementById('file-progress'),
      fileSizeLimit = 1024; // In MB
      if (xhr.upload) {
        // Check if file is less than x MB
        if (file.size <= fileSizeLimit * 1024 * 1024) {
          // Progress bar
          pBar.style.display = 'inline';
          xhr.upload.addEventListener('loadstart', setProgressMaxValue, false);
          xhr.upload.addEventListener('progress', updateFileProgress, false);
  
          // File received / failed
          xhr.onreadystatechange = function (e) {
            if (xhr.readyState == 4) {
              // Everything is good!
  
              // progress.className = (xhr.status == 200 ? "success" : "failure");
              // document.location.reload(true);
            }
          };
  
          // Start upload
          xhr.open('POST', document.getElementById('file-upload-form').action, true);
          xhr.setRequestHeader('X-File-Name', file.name);
          xhr.setRequestHeader('X-File-Size', file.size);
          xhr.setRequestHeader('Content-Type', 'multipart/form-data');
          xhr.send(file);
        } else {
          output('Please upload a smaller file (< ' + fileSizeLimit + ' MB).');
        }
      }
    }
  
    // Check for the various File API support.
    if (window.File && window.FileList && window.FileReader) {
      Init();
    } else {
      document.getElementById('file-drag').style.display = 'none';
    }
  }
  ekUpload();
  //# sourceURL=pen.js
      </script>
</div>

-->




<!-- 
<h1>Take a snapshot of the current video stream</h1>
Click on the Start WebCam button.
<p>
<button onclick="startWebcam();">Start WebCam</button>
<button onclick="stopWebcam();">Stop WebCam</button> 
<button onclick="snapshot();">Take Snapshot</button> 
   </p>
<video onclick="snapshot(this);" width=400 height=400 id="video" controls autoplay style="display: none;"></video>
 <p>  Screenshots : <p>
<canvas  id="myCanvas" width="400" height="350"></canvas>  

-->


        

        
    

<!--  <div class="column" style="display:flex; align-items: center; flex-direction: column; justify-items: center;">
    <div style="display: flex; align-items: center; justify-content: center;">
      <img id="output" style="height: auto ;width: auto; max-width: 90%; max-height: 80%;">
    </div> 
    <label for="file" class="inputbut">Upload Image</label> 
    <input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;">
  </div> -->

<!-- 
      <div class="bgimg">
        <img src="Dark Forest.jpeg" style="height: 100%; width: 100%;">
        <div style="font: size 35px;position: absolute;top: 50%;left: 50%; transform: translate(-50%, -50%); text-align: center;"> <h1>COMING SOON</h1> </div>
        <p id="demo" style="font-size:35px; position: absolute;top: 58%;left: 50%; transform: translate(-50%, -50%); text-align: center;"></p>
    </div>






      <style>
          .bgimg{
            background-image: url(https://wallpaperaccess.com/full/96689.jpg);
            height: 100%;
            background-position: center;
            background-size: cover;
            position: relative;
            color: white;
            font-family: "Courier New", Courier, monospace;
            font-size: 25px;
          }

          .topnav-centered a {
            float: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
}
      </style>



<script>
    // Set the date we're counting down to
    var countDownDate = new Date("Jan 1, 2023 00:00:00").getTime();
    
    // Update the count down every 1 second
    var countdownfunction = setInterval(function() {
    
      // Get todays date and time
      var now = new Date().getTime();
      
      // Find the distance between now an the count down date
      var distance = countDownDate - now;
      
      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      // Output the result in an element with id="demo"
      document.getElementById("demo").innerHTML = days + "d " + hours + "h "
      + minutes + "m " + seconds + "s ";
      
      // If the count down is over, write some text 
      if (distance < 0) {
        clearInterval(countdownfunction);
        document.getElementById("demo").innerHTML = "EXPIRED";
      }
    }, 1000);
</script>  -->


<!-- <button onclick="myFunction1()">
  Button 1
</button>
<button onclick="startWebCam();">
  Button 2
</button> -->

</body>
</html>